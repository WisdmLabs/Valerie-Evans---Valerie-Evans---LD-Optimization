<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Valerie Evans, Learndash Certificate Builder: not recognised unless @page {} has styles set</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Valerie Evans, Learndash Certificate Builder
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">not recognised unless @page {} has styles set</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li>left/right margins not allowed on</li>
</ul>
<h1><a class="anchor" id="autotoc_md42"></a>
mPDF 5.7.2</h1>
<h3><a class="anchor" id="autotoc_md43"></a>
28/12/2013</h3>
<h2><a class="anchor" id="autotoc_md44"></a>
Bug Fixes</h2>
<ul>
<li><code>&lt;tfoot&gt;</code> not printing at all (since v5.7)</li>
<li>list-style incorrectly overriding list-style-type in cascading CSS</li>
<li>page-break-after:avoid not taking into account bottom padding and margin when estimating if next line can fit on page</li>
<li>images not displayed when using "https://" if images are referenced by src="//domain.com/image"</li>
<li>+aCJK incorrectly parsed when instantiating class e.g. new mpDF('ja+aCJK')</li>
<li>line-breaking - zero-width object at end of line (e.g. index entry) causing a space left untrimmed at end of line</li>
<li>ToC since v5.7 incorrectly handling non-ascii characters, entities or tags</li>
<li>cell height miscalculated when using hard-hyphenate</li>
<li>border colors set with transparency not working</li>
<li>transparency settings for stroke and fill interfering with one another</li>
<li>'float' inside a HTML header/footer - not clearing the float before first line of text</li>
<li>error if script run across date change at midnight</li>
<li>temporary file name collisions (e.g. when processing images) if numerous users</li>
<li><code>&lt;watermarkimage&gt;</code> position attribute not working</li>
<li><code>&lt;</code> (less-than sign) inside a PRE element, and NOT start of a valid tag, was incorrectly removed</li>
<li>file attachments not opening in Reader XI</li>
<li>JPG images not recognised if not containing JFIF or Exif markers</li>
<li>instance of preg_replace with /e modifier causing error in PHP 5.5</li>
<li>correctly handle CSS URLs with no scheme</li>
<li>Index entries causing errors when repeat entries are used within page-break-inside:avoid, rotated tables etc.</li>
<li>table with fixed width column and long word in cell set to colspan across this column (adding spare width to all columns)</li>
<li>incorrect hyphenation if multiple soft-hyphens on line before break</li>
<li>SVG images - objects contained in <code>&lt;defs&gt;</code> being displayed</li>
<li>SVG images - multiple, or quoted fonts e.g. style="font-family:'lucida grande', verdana" not recognised</li>
<li>SVG images - line with opacity=0 still visible (only in some PDF viewers/browsers)</li>
<li>text in an SVG image displaying with incorrect font in some PDF viewers/browsers</li>
<li>SVG images - fill:RGB(0,0,0) not recognised when uppercase</li>
<li>background images using data:image\/(jpeg|gif|png);base64 format - error when reading in stylesheet</li>
</ul>
<h2><a class="anchor" id="autotoc_md45"></a>
New CSS support</h2>
<ul>
<li>added support for style="opacity:0.6;" in SVG images - previously only supported style="fill-opacity:0.6; stroke-opacity: 0.6;"</li>
<li>improved PNG image handling for some cases of alpha channel transparency</li>
<li>khmer, cambodian and lao recognised as list-style-type for numbered lists</li>
</ul>
<h2><a class="anchor" id="autotoc_md46"></a>
SVG Images</h2>
<ul>
<li>Limited support for <code>&lt;use&gt;</code> and <code>&lt;defs&gt;</code></li>
</ul>
<h1><a class="anchor" id="autotoc_md47"></a>
mPDF 5.7.1</h1>
<h2><a class="anchor" id="autotoc_md48"></a>
01/09/2013</h2>
<p>1) FILES: mpdf.php</p>
<p>Bug fix; Dollar sign enclosed by <code>&lt;pre&gt;</code> tag causing error. Test e.g.: <code>&lt;pre&gt;Test $1.00 Test&lt;/pre&gt; &lt;pre&gt;Test $2.00 Test&lt;/pre&gt; &lt;pre&gt;Test $3.00 Test&lt;/pre&gt; &lt;pre&gt;Test $4.00 Test&lt;/pre&gt;</code></p>
<hr  />
<p>2) FILES: includes/functions.php AND mpdf.php</p>
<p>Changes to <code>preg_replace</code> with <code>/e</code> modifier to use <code>preg_replace_callback</code> (/e depracated from PHP 5.5)</p>
<hr  />
<p>3) FILES: classes/barcode.php</p>
<p>Small change to function <code>barcode_c128()</code> which allows ASCII 0 - 31 to be used in C128A e.g. chr(13) in: <code>&lt;barcode code="5432&amp;#013;1068" type="C128A" /&gt;</code></p>
<hr  />
<p>4) FILES: mpdf.php</p>
<p>Using $use_kwt ("keep-[heading]-with-table") if <code>&lt;h4&gt;&lt;/h4&gt;</code> before table is on 2 lines and pagebreak occurs after first line the first line is displayed at the bottom of the 2nd page. Edited so that $use_kwt only works if the HEADING is only one line. Else ignores (but prints correctly)</p>
<hr  />
<p>5) FILES: mpdf.php</p>
<p>Clearing old temporary files from <code>_MPDF_TEMP_PATH</code> will now ignore "hidden" files e.g. starting with a "`.`" <code>.htaccess</code>, <code>.gitignore</code> etc. and also leave <code>dummy.txt</code> alone</p>
<h1><a class="anchor" id="autotoc_md53"></a>
mPDF 5.7</h1>
<h3><a class="anchor" id="autotoc_md54"></a>
14/07/2013</h3>
<h2><a class="anchor" id="autotoc_md55"></a>
Files changed</h2>
<ul>
<li>config.php</li>
<li>mpdf.php</li>
<li>classes/tocontents.php</li>
<li>classes/cssmgr.php</li>
<li>classes/svg.php</li>
<li>includes/functions.php</li>
<li>includes/out.php</li>
<li>examples/formsubmit.php [Important - Security update]</li>
</ul>
<h2><a class="anchor" id="autotoc_md56"></a>
Updated Example Files in /examples/</h2>
<ul>
<li>All example files</li>
<li>mpdfstyleA4.css</li>
</ul>
<h2><a class="anchor" id="autotoc_md57"></a>
config.php</h2>
<p>Removed:</p><ul>
<li>$this-&gt;hyphenateTables</li>
<li>$this-&gt;hyphenate</li>
<li>$this-&gt;orphansAllowed Edited:</li>
<li>"hyphens: manual" - Added to $this-&gt;defaultCSS</li>
<li>$this-&gt;allowedCSStags now includes '|TEXTCIRCLE|DOTTAB' New:</li>
<li>$this-&gt;decimal_align = array('DP'=&gt;'.', 'DC'=&gt;',', 'DM'=&gt;"\xc2\xb7", 'DA'=&gt;"\xd9\xab", 'DD'=&gt;'-');</li>
<li>$this-&gt;h2toc = array('H1'=&gt;0, 'H2'=&gt;1, 'H3'=&gt;2);</li>
<li>$this-&gt;h2bookmarks = array('H1'=&gt;0, 'H2'=&gt;1, 'H3'=&gt;2);</li>
<li>$this-&gt;CJKforceend = false; // Forces overflowng punctuation to hang outside right margin (used with CJK script)</li>
</ul>
<h2><a class="anchor" id="autotoc_md58"></a>
Backwards compatability</h2>
<p>Changes in mPDF 5.7 may cause some changes to the way your documents appear. There are two main differences: 1) Hyphenation. To retain appearance compatible with earlier versions, set the CSS property "hyphens: auto" whenever you previously used $mpdf-&gt;hyphenate=true; 2) Table of Contents - appearance can now be controlled with CSS styles. By default, in mPDF 5.7, no styling is applied so you will get:</p><ul>
<li>No indent (previous default of 5mm) - ($tocindent is ignored)</li>
<li>Any font, font-size set ($tocfont or $tocfontsize) will not work</li>
<li>HyperLinks will appear with your default appearance - usually blue and underlined</li>
<li>line spacing will be narrower (can use line-height or margin-top in CSS)</li>
</ul>
<h2><a class="anchor" id="autotoc_md59"></a>
New features / Improvements</h2>
<ul>
<li>Layout of Table of Content ToC now controlled using CSS styles</li>
<li>Text alignment on decimal mark inside tables</li>
<li>Automatically generated bookmarks and/or ToC entries from H1 - H6 tags</li>
<li>Support for unit of "rem" as size e.g. font-size: 1rem;</li>
<li>Origin and clipping for background images and gradients controlled by CSS i.e. background-origin, background-size, background-clip</li>
<li>Text-outline controlled by CSS (compatible with CSS3 spec.)</li>
<li>Use of <code>&lt;dottab&gt;</code> enhanced by custom CSS "outdent" property</li>
<li>Image HTML attributes <code>&lt;img&gt;</code> added: max-height, max-width, min-height and min-width</li>
<li>Spotcolor can now be defined as it is used e.g. color: spot(PANTONE 534 EC, 100%, 85, 65, 47, 9);</li>
<li>Lists - added support for "start" attribute in <code>&lt;ol&gt;</code> e.g. <code>&lt;ol start="5"&gt;</code></li>
<li>Hyphenation controlled using CSS, consistent with CSS3 spec.</li>
<li>Line breaking improved to avoid breaks within words where HTML tags are used e.g. H<sub>2<sub>0</sub></sub></li>
<li><sub><sub>Line breaking in CJK scripts improved (and ability to force hanging punctuation)</sub></sub></li>
<li><sub><sub>Numerals in a CJK script are kept together</sub></sub></li>
<li><sub><sub>RTL improved support for phrases containing numerals and \ and /</sub></sub></li>
<li><sub><sub>Bidi override codes supported - Right-to-Left Embedding [RLE] U+202B, Left-to-Right Embedding [LRE] U+202A, U+202C POP DIRECTIONAL FORMATTING (PDF)</sub></sub></li>
<li><sub><sub>Support for <code>&lt;base href=""&gt;</code> in HTML - uses it to SetBasePath for relative URLs.</sub></sub></li>
<li><sub><sub>HTML tag - added support for <code>&lt;wbr&gt;</code> or <code>&lt;wbr /&gt;</code> - converted to a soft-hyphen</sub></sub></li>
<li><sub><sub>CSS now takes precedence over HTML attribute e.g. <code>&lt;table bgcolor="black" style="background-color:yellow"&gt;</code></sub></sub></li>
</ul>
<p><sub><sub></sub></sub></p>
<h2><a class="anchor" id="autotoc_md60"></a>
Added CSS support</h2>
<p><sub><sub></sub></sub></p>
<p><sub><sub></p><ul>
<li>max-height, max-width, min-height and min-width for images <code>&lt;img&gt;</code></li>
<li>"hyphens: none|manual|auto" as per CSS3 spec.</li>
<li>Decimal mark alignment e.g. text-align: "." center;</li>
<li>"rem" accepted as a valid (font)size in CSS e.g. font-size: 1.5rem</li>
<li>text-outline, text-outline-width and text-outline-color supported everywhere except in tables (blur not supported)</li>
<li>background-origin, background-size, background-clip are now supported everywhere except in tables</li>
<li>"visibility: hidden|visible|printonly|screenonly" for inline elements e.g. <code>&lt;span&gt;</code></li>
<li>Colors: device-cmyk(c,m,y,k) as per CSS3 spec. For consistency, device-cmyka also supported (not CSS3 spec)</li>
<li>"z-index" can be used to utilise layers in the PDF document</li>
<li>Custom CSS property added: "outdent" - opposite of indent</li>
</ul>
<p></sub></sub></p>
<p><sub><sub>The HTML elements <code>&lt;dottab&gt;</code> and <code>&lt;textcircle&gt;</code> can now have CSS properties applied to them.</sub></sub></p>
<p><sub><sub></sub></sub></p>
<h2><a class="anchor" id="autotoc_md61"></a>
Bug fixes</h2>
<p><sub><sub></sub></sub></p>
<p><sub><sub></p><ul>
<li>SVG images - path including e.g. 1.234E-15 incorrectly parsed (not recognising capital E)</li>
<li>Tables - if a table starts when the Y position on page is below bottom margin caused endless loop</li>
<li>Float-ing DIVs - starting a float at bottom of page and it causes page break before anything output, second new page is forced</li>
<li>Tables - Warning notice now given in Table footer or header if <code>&lt;tfoot&gt;</code> placed after <code>&lt;tbody&gt;</code> and table spans page</li>
<li>Columns - block with border-width wider than the length of the border line, line overflows</li>
<li>Columns - block with no padding containing a block with borders but no backgound colour, borders not printed</li>
<li>Table in Columns - when background color set by surrounding block element - colour missing for height of half bottom border.</li>
<li>TOCpagebreakByArray() when called by function was not adding the pagebreak</li>
<li>Border around block element - dashed not showing correctly (not resetting linewidth between different edges)</li>
<li>Double border in table - when background colour set in surrounding block element - shows as black line between the 2 bits of double</li>
<li>Borders around DIVs - "double" border problem if not all 4 sides equally - fixed</li>
<li>Borders around DIVs - solid (and double) borders overlap as in tables - now fixed so mitred joins as in browser [Inadvertently improves borders in Columns because of change in LineCap]</li>
<li>Page numbering - $mpdf-&gt;pagenumSuffix etc not suppressed in HTML headers/footers if number suppressed</li>
<li>Page numbering - Page number total {nbpg} incorrect - e.g. showing decreasing numbers through document, when ToC present</li>
<li>RTL numerals - incorrectly reversing a number followed by a comma</li>
<li>Transform to uppercase/lowercase not working for chars &gt; ASCII 128 when using core fonts</li>
<li>TOCpagebreak - Not setting TOC-FOOTER</li>
<li>TOCpagebreak - toc-even-header-name etc. not working</li>
<li>Parsing some relative URLs incorrectly</li>
<li>Textcircle - when moved to next page by "page-break-inside: avoid"</li>
<li>Bookmarks will now work if jump more than one level e.g. 0,2,1 Inserts a new blank entry at level 1</li>
<li>Paths to img or stylesheets - incorrectly reading "//www.domain.com" i.e. when starting with two /</li>
<li>data:image as background url() - incorrectly adjusting path on server if MPDF_PATH not specified (included in release mPDF 5.6.1)</li>
<li>Image problem if spaces or commas in path using <a href="http://">http://</a> URL (included in release mPDF 5.6.1)</li>
<li>Image URL parsing rewritten to handle both urlencoded URLs and not urlencoded (included in release mPDF 5.6.1)</li>
<li><code>&lt;dottab&gt;</code> fixed to allow color, font-size and font-family to be correctly used, avoid dots being moved to new page, and to work in RTL</li>
<li>Table {colsum} summed figures in table header</li>
<li>list-style-type (custom) colour not working</li>
<li><code>&lt;tocpagebreak&gt;</code> toc-preHTML and toc-postHTML can now contain quotes</li>
</ul>
<p></sub></sub></p>
<p><sub><sub></sub></sub></p>
<h1><a class="anchor" id="autotoc_md62"></a>
mPDF 5.6</h1>
<p><sub><sub></sub></sub></p>
<p><sub><sub></sub></sub></p>
<h3><a class="anchor" id="autotoc_md63"></a>
20/01/2013</h3>
<p><sub><sub></sub></sub></p>
<p><sub><sub></sub></sub></p>
<h2><a class="anchor" id="autotoc_md64"></a>
Files changed</h2>
<p><sub><sub></sub></sub></p>
<p><sub><sub></p><ul>
<li>mpdf.php</li>
<li>config.php</li>
<li>includes/functions.php</li>
<li>classes/meter.php</li>
<li>classes/directw.php</li>
</ul>
<p></sub></sub></p>
<p><sub><sub></sub></sub></p>
<h2><a class="anchor" id="autotoc_md65"></a>
config.php changes</h2>
<p><sub><sub></sub></sub></p>
<p><sub><sub></p><ul>
<li>$this-&gt;allowedCSStags - added HTML5 tags + textcircle AND</li>
<li>$this-&gt;outerblocktags - added HTML5 tags</li>
<li>$this-&gt;defaultCSS - added default CSS properties</li>
</ul>
<p></sub></sub></p>
<p><sub><sub></sub></sub></p>
<h2><a class="anchor" id="autotoc_md66"></a>
New features / Improvements</h2>
<p><sub><sub></sub></sub></p>
<p><sub><sub>CSS support added for for min-height, min-width, max-height and max-width in <code>&lt;img&gt;</code></sub></sub></p>
<p><sub><sub>Images embedded in CSS</p><ul>
<li><code>&lt;img src="data:image/gif;base64,...."&gt;</code> improved to make it more robust, and background: <code>url(data:image...</code> now added to work</li>
</ul>
<p></sub></sub></p>
<p><sub><sub>HTML5 tags supported</p><ul>
<li>as generic block elements: <code>&lt;article&gt;&lt;aside&gt;&lt;details&gt;&lt;figure&gt;&lt;figcaption&gt;&lt;footer&gt;&lt;header&gt;&lt;hgroup&gt;&lt;nav&gt;&lt;section&gt;&lt;summary&gt;</code></li>
<li>as in-line elements: <code>&lt;mark&gt;&lt;time&gt;&lt;meter&gt;&lt;progress&gt;</code></li>
<li><code>&lt;mark&gt;</code> has a default CSS set in config.php to yellow highlight</li>
<li><code>&lt;meter&gt;</code> and <code>&lt;progress&gt;</code> support attributes as for HTML5</li>
<li>custom appearances for <code>&lt;meter&gt;</code> and <code>&lt;progress&gt;</code> can be made by editing <code>classes/meter.php</code> file</li>
<li><code>&lt;meter&gt;</code> and <code>&lt;progress&gt;</code> suppress text inside the tags</li>
</ul>
<p></sub></sub></p>
<p><sub><sub>Textcircle/Circular</p><ul>
<li>font: "auto" added: automatically sizes text to fill semicircle (if both set) or full circle (if only one set) NB for this AND ALL CSS on <code>&lt;textcircle&gt;</code>: does not inherit CSS styles</li>
<li>attribute: divider="[characters including HTML entities]" added</li>
<li><code>&lt;textcircle r="30mm" top-text="Text Circular Text Circular" bottom-text="Text Circular Text Circular" divider="&amp;nbsp;&amp;bull;&amp;nbsp;" style="font-size: auto" /&gt;</code></li>
</ul>
<p></sub></sub></p>
<p><sub><sub>&raquo; &rsquo; &sbquo; &bdquo; are now included in "orphan"-management at the end of lines</sub></sub></p>
<p><sub><sub>Improved CJK line wrapping (if CJK character at end of line, breaks there rather than previous wordspace)</sub></sub></p>
<p><sub><sub>NB mPDF 5.5 added support for <code>&lt;fieldset&gt;</code> and <code>&lt;legend&gt;</code> (omitted from ChangeLog)</sub></sub></p>
<p><sub><sub></sub></sub></p>
<h2><a class="anchor" id="autotoc_md67"></a>
Bug fixes</h2>
<p><sub><sub></sub></sub></p>
<p><sub><sub></p><ul>
<li>embedded fonts: Panose string incorrectly output as decimals - changed to hexadecimal Only a problem in limited circumstances. *****Need to delete all ttfontdata/ files in order for fix to have effect.</li>
<li><code>&lt;textCircle&gt;</code> background white even when set to none/transparent</li>
<li>border="0" causing mPDF to add border to table CELLS as well as table</li>
<li>iteration counter in THEAD crashed in some circumstances</li>
<li>CSS color now supports spaces in the rgb() format e.g. border: 1px solid rgb(170, 170, 170);</li>
<li>CJK not working in table following changes made in v5.4</li>
<li>images fixed to work with Google Chart API (now mPDF does not urldecode the query part of the src)</li>
<li>CSS <code>&lt;style&gt;</code> within HTML page crashed if CSS is too large (? &gt; 32Kb)</li>
<li>SVG image nested int eht HTML failed to show if code too large (? &gt; 32Kb)</li>
<li>cyrillic character p &amp;#1088; at end of table cell caused cell height to be incorrectly calculated</li>
</ul>
<p></sub></sub></p>
<p><sub><sub></sub></sub></p>
<h1><a class="anchor" id="autotoc_md68"></a>
mPDF 5.5</h1>
<p><sub><sub></sub></sub></p>
<p><sub><sub></sub></sub></p>
<h3><a class="anchor" id="autotoc_md69"></a>
02/03/2012</h3>
<p><sub><sub></sub></sub></p>
<p><sub><sub></sub></sub></p>
<h2><a class="anchor" id="autotoc_md70"></a>
Files changed</h2>
<p><sub><sub></sub></sub></p>
<p><sub><sub></p><ul>
<li>mpdf.php</li>
<li>classes/ttfontsuni.php</li>
<li>classes/svg.php</li>
<li>classes/tocontents.php</li>
<li>config.php</li>
<li>config_fonts.php</li>
<li>utils/font_collections.php</li>
<li>utils/font_coverage.php</li>
<li>utils/font_dump.php</li>
</ul>
<p></sub></sub></p>
<p><sub><sub></sub></sub></p>
<h2><a class="anchor" id="autotoc_md71"></a>
Files added</h2>
<p><sub><sub></sub></sub></p>
<p><sub><sub>classes/ttfontsuni_analysis.php</sub></sub></p>
<p><sub><sub></sub></sub></p>
<h2><a class="anchor" id="autotoc_md72"></a>
config.php changes</h2>
<p><sub><sub></sub></sub></p>
<p><sub><sub>To avoid just the border/background-color of the (empty) end of a block being moved on to next page (<code>&lt;/div&gt;&lt;/div&gt;</code>)</sub></sub></p>
<p><sub><sub><code>$this-&gt;margBuffer = 0; // Allow an (empty) end of block to extend beyond the bottom margin by this amount (mm)</code></sub></sub></p>
<p><sub><sub></sub></sub></p>
<h2><a class="anchor" id="autotoc_md73"></a>
config_fonts.php changes</h2>
<p><sub><sub></sub></sub></p>
<p><sub><sub>Added to (arabic) fonts to allow "use non-mapped Arabic Glyphs" e.g. for Pashto 'unAGlyphs' =&gt; true,</sub></sub></p>
<p><sub><sub></sub></sub></p>
<h2><a class="anchor" id="autotoc_md74"></a>
Arabic text</h2>
<p><sub><sub></sub></sub></p>
<p><sub><sub>Arabic text (RTL) rewritten with improved support for Pashto/Sindhi/Urdu/Kurdish Presentation forms added: U+0649, U+0681, U+0682, U+0685, U+069A-U+069E, U+06A0, U+06A2, U+06A3, U+06A5, U+06AB-U+06AE, U+06B0-U+06B4, U+06B5-U+06B9, U+06BB, U+06BC, U+06BE, U+06BF, U+06C0, U+06CD, U+06CE, U+06D1, U+06D3, U+0678 Joining improved: U+0672, U+0675, U+0676, U+0677, U+0679-U+067D, U+067F, U+0680, U+0683, U+0684, U+0687, U+0687, U+0688-U+0692, U+0694, U+0695, U+0697, U+0699, U+068F, U+06A1, U+06A4, U+06A6, U+06A7, U+06A8, U+06AA, U+06BA, U+06C2-U+06CB, U+06CF</sub></sub></p>
<p><sub><sub>Note - Some characters in Pashto/Sindhi/Urdu/Kurdish do not have Unicode values for the final/initial/medial forms of the characters. However, some fonts include these characters "un-mapped" to Unicode (including XB Zar and XB Riyaz, which are bundled with mPDF). &lsquo;'unAGlyphs&rsquo; =&gt; true`, added to the config_fonts.php file for appropriate fonts will</sub></sub></p>
<p><sub><sub>This requires the font file to include a Format 2.0 POST table which references the glyphs as e.g. uni067C.med or uni067C.medi: e.g. XB Riyaz, XB Zar, Arabic Typesetting (MS), Arial (MS)</sub></sub></p>
<p><sub><sub>NB If you want to know if a font file is suitable, you can open a .ttf file in a text editor and search for "uni067C.med" - if it exists, it may work! Using "unAGlyphs" forces subsetting of fonts, and will not work with SIP/SMP fonts (using characters beyond the Unicode BMP Plane).</sub></sub></p>
<p><sub><sub>mPDF maps these characters to part of the Private Use Area allocated by Unicode U+F500-F7FF. This could interfere with correct use if the font already utilises these codes (unlikely).</sub></sub></p>
<p><sub><sub>mPDF now deletes U+200C,U+200D,U+200E,U+200F zero-widthjoiner/non-joiner, LTR and RTL marks so they will not appear even though some fonts contain glyphs for these characters.</sub></sub></p>
<p><sub><sub></sub></sub></p>
<h2><a class="anchor" id="autotoc_md75"></a>
Other New features / Improvements</h2>
<p><sub><sub></sub></sub></p>
<p><sub><sub>Avoid just the border/background-color of the (empty) end of a block being moved on to next page (<code>&lt;/div&gt;&lt;/div&gt;</code>) using configurable variable: <code>$this-&gt;margBuffer</code>;</sub></sub></p>
<p><sub><sub>The TTFontsUni class contained a long function (extractcoreinfo) which is not used routinely in mPDF</sub></sub></p>
<p><sub><sub>This has been moved to a new file: classes/ttfontsuni_analysis.php.</sub></sub></p>
<p><sub><sub>The 3 utility scripts have been updated to use the new extended class:</sub></sub></p>
<p><sub><sub></p><ul>
<li>utils/font_collections.php</li>
<li>utils/font_coverage.php</li>
<li>utils/font_dump.php</li>
</ul>
<p></sub></sub></p>
<p><sub><sub></sub></sub></p>
<h2><a class="anchor" id="autotoc_md76"></a>
Bug fixes</h2>
<p><sub><sub></sub></sub></p>
<p><sub><sub></p><ul>
<li>Border &amp; background when closing 2 blocks (e.g. <code>&lt;/div&gt;&lt;/div&gt;</code>) incorrectly being moved to next page because incorrectly calculating how much space required</li>
<li>Fixed/Absolute-positioned elements not inheriting letter-spacing style</li>
<li>Rotated cell - error if text-rotate set on a table cell, but no text content in cell</li>
<li>SVG images, text-anchor not working</li>
<li>Nested table - not resetting cell style (font, color etc) after nested table, if text follows immediately</li>
<li>Nested table - font-size 70% set in extenal style sheet; if repeated nested tables, sets 70% of 70% etc etc</li>
<li>SVG setting font-size as percent on successive <code>&lt;text&gt;</code> elements gives progressively smaller text</li>
<li>mPDF will check if magic_quotes_runtime set ON even &gt;= PHP 5.3 (will now cause an error message)</li>
<li>not resetting after 2 nested tags of same type e.g. <code>&lt;b&gt;&lt;b&gt;bold&lt;/b&gt;&lt;/b&gt;</code> still bold</li>
<li>When using charset_in other than utf-8, HTML Footers using tags e.g. <code>&lt;htmlpageheader&gt;</code> do not decode correctly</li>
<li>ToC if nested &gt; 3 levels, line spacing reduces and starts to overlap</li>
</ul>
<p></sub></sub></p>
<p><sub><sub>Older changes can be seen <a href="https://mpdf.github.io/about-mpdf/changelog.html">on the documentation site</a>. </sub></sub></p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
